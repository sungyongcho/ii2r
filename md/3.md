# Intro to Intro to Raycasting--#3

> "*...If you don't know, now you know..."* - **Notorious B.I.G** (1994)

ì´ ê¸€ì€ í•„ìê°€ [42 Seoul](http://42seoul.kr) ì—ì„œ ì£¼ì–´ì§„ í”„ë¡œì íŠ¸ ê³¼ì œì¸ 'cub3d'â€”ìš¸íœìŠˆíƒ€ì¸ 3Dì˜ ì—”ì§„ì„ Cë¡œ ì¬í˜„ í•´ë³´ëŠ”â€”ê³¼ì œë¥¼ ì§„í–‰ í•˜ë©´ì„œ ë³´ê³  ë°°ìš°ê³  ëŠë‚€ ì ë“¤ì„ ì •ë¦¬ í•˜ê¸° ìœ„í•´ ì‘ì„±í•œ ê¸€ì´ë‹¤.

[Lodev.com](http://lodev.com) ì˜ 'Intro to Raycasting' ì„ ì½ê¸° ì´ì „ì—, ë¬¸ì„œì—ì„œ ë‚˜ì˜¨ ë¶€ë¶„ì— ê´€ë ¨ ì§€ì‹ ê¸°ë°˜ì´ ì „í˜€ ì—†ëŠ” ìƒíƒœì—ì„œ ê¸€ì„ ì½ì–´ë³´ê¸° ì „ ì–´ë–¤ ì ë“¤ì„ ì•Œì•„ì•¼ í•˜ê³ , í•™ìŠµì„ í•™ìŠµí•˜ëŠ”ë° ë„ì›€ì„ ìœ„í•œ ëª©ì ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ë‹¤.


---
### II2R--Intro to Intro to Raycasting
#### ğŸ‘‰ <a href="https://github.com/sungyongcho/ii2r/blob/master/md/1.md">#1</a>
#### ğŸ‘‰ <a href="https://github.com/sungyongcho/ii2r/blob/master/md/2.md">#2</a>
#### ğŸ‘‰ <a href="https://github.com/sungyongcho/ii2r/blob/master/md/3.md">#3</a>
#### ğŸ‘‰ <a href="https://github.com/sungyongcho/ii2r/blob/master/md/4.md">#4</a>
#### ğŸ‘‰ <a href="https://github.com/sungyongcho/ii2r/blob/master/md/5.md">#5</a>
#### ğŸ‘‰ <a href="https://github.com/sungyongcho/ii2r/blob/master/md/6.md">#6</a>
---

42 Seoul ì´ë€?

ğŸ‘‰[https://42seoul.kr/about](https://42seoul.kr/about)

---

42?

ğŸ‘‰[https://www.42.fr/](https://www.42.fr/)

---
<br>

## #3
ì¼ë‹¨ ë‚˜ì˜ ê²½ìš°, ìœ„ì—ì„œ ì´ì•¼ê¸° í•œ ê²ƒì²˜ëŸ¼ ê³ ì–‘ì´ ë™ì˜ìƒì„ ë³´ê³  ë”°ë¼ í•˜ë©´ì„œ ì§ì ‘ êµ¬í˜„ í•´ë³¸ ë‹¤ìŒ, cub3d ê³¼ì œì˜ ì œì•½ì‚¬í•­ì— ë§ê²Œ ê³¼ì œë¥¼ ìˆ˜ì • í•´ë‚˜ê°€ëŠ” ì‹ì˜ ê³¼ì •ì„ ë°Ÿì•„ê°€ê¸°ë¡œ ê³„íší•˜ì˜€ë‹¤.
<p align="center">
  <img src="../images/first_tutorial.mov.gif" />
</p>
ì¸íŠ¸ë¼ elearning minilibx ì˜ˆì œë¥¼ ë³´ê³ , ì°½ì„ ë„ìš´ ë‹¤ìŒì—

```c
/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   init.c                                             :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: sucho <sucho@student.42seoul.kr>           +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2020/07/22 02:31:03 by sucho             #+#    #+#             */
/*   Updated: 2020/09/26 07:48:18 by sucho            ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "../includes/mlx_openGL/mlx.h"

int		main(void)
{
	void	*mlx;
	void	*win;

	mlx = mlx_init();
	win = mlx_new_window(mlx, 500, 500, "mlx");
	mlx_loop(mlx);
}
```

```
minilibx ë‹¤ìš´ ë°›ìœ¼ì…”ì„œ ì••ì¶• í‘¸ì‹ ë‹¤ìŒì— ì•ˆì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹Œë“œ í•œë²ˆ í•˜ì‹œê³ 
gcc -L[minilibx ê²½ë¡œ] -lmlx -framework OpenGL -framework Appkit init.c
ë¡œ ì»´íŒŒì¼í•˜ì„¸ìš”
```

<p align="center">
	<img src="../images/second_tutorial.mov.gif">
</p>

'ê³ ì–‘ì´' ì˜ˆì œì²˜ëŸ¼ ìœˆë„ìš° ì•ˆì— ê·¸ë¦¬ë“œ(ê²©ì)ë¥¼ ì¶œë ¥ í•˜ê³ 

```c
/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   draw_grid.c                                        :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: sucho <sucho@student.42seoul.kr>           +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2020/07/22 02:31:03 by sucho             #+#    #+#             */
/*   Updated: 2020/09/26 08:02:06 by sucho            ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "../includes/mlx_openGL/mlx.h"

typedef struct	s_window
{
	void	*mlx;
	void	*win;

	int		width;
	int		height;

	int		row_count;
	int		column_count;
	int		grid_color;
}				t_window;

int		draw_grid(t_window *window)
{
	int	draw_position;
	int	i;

	i = 1;
	while (i< window->row_count)
	{
		draw_position = 0;
		while (draw_position <= window->width){
			mlx_pixel_put(window->mlx, window->win, draw_position, i * (window->height / window->row_count),window->grid_color);
			draw_position++;
		}
		i++;
	}
	i = 1;
	while (i< window->column_count)
	{
		draw_position = 0;
		while (draw_position <= window->width){
			mlx_pixel_put(window->mlx, window->win, i * (window->width/ window->column_count), draw_position,window->grid_color);
			draw_position++;
		}
		i++;
	}
	return (0);
}

int		main(void)
{
	t_window window;

	window.width = 500;
	window.height = 500;
	window.row_count = 10;
	window.column_count = 10;
	window.grid_color = 0x00FFFF;
	window.mlx = mlx_init();
	window.win = mlx_new_window(window.mlx, window.width, window.height, "mlx_grid");

	mlx_loop_hook(window.mlx, draw_grid, &window);
	mlx_loop(window.mlx);
}
```
<p align="center">
	<a href="https://youtu.be/MLq8J95hsss"><img src="https://img.youtube.com/vi/MLq8J95hsss/0.jpg"></img></a>
	<br>
	<small>í´ë¦­í•´ì„œ ë³´ì„¸ìš”</small>
	<br>
	<small>ê·¸ë¦¬ë“œ ì•ˆ ì¤‘ê°„ì¯¤ì—  ë¹¨ê°„ì ì´ ì—„~~~~~~ì²­ ì‘ê²Œ ë‚˜ì˜¤ëŠ”ë° ì˜ í™•ì¸ í•´ë³´ì‹œê¸¸.</small>
</p>



ê²©ì ì•ˆì— í”Œë ˆì´ì–´ì˜ ìœ„ì¹˜ê°€ ë˜ëŠ” ì ì„ í•˜ë‚˜ ì°ì–´ ë³´ê³  í‚¤ ì…ë ¥ë„ ë°›ì•„ì•¼ë˜ë‹ˆê¹Œ, wasd í‚¤ë¡œ í”Œë ˆì´ì–´ì˜ ì ì´ ì™”ë‹¤ê°”ë‹¤ í•˜ëŠ”ì§€ í™•ì¸ í•´ë³´ì•˜ë‹¤.

```c
/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   move_player.c                                      :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: sucho <sucho@student.42seoul.kr>           +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2020/07/22 02:31:03 by sucho             #+#    #+#             */
/*   Updated: 2020/09/26 08:30:04 by sucho            ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "../includes/mlx_openGL/mlx.h"
# define KEY_W 13
# define KEY_A 0
# define KEY_S 1
# define KEY_D 2

typedef struct	s_player
{
	int			x;
	int			y;
	int			color;
}				t_player;

typedef struct	s_window
{
	void	*mlx;
	void	*win;
	t_player player;

	int		width;
?	int		height;

	int		row_count;
	int		column_count;
	int		grid_color;
}				t_window;

int		draw_grid(t_window *window)
{
	int	draw_position;
	int	i;

	i = 1;
	while (i< window->row_count)
	{
		draw_position = 0;
		while (draw_position <= window->width){
			mlx_pixel_put(window->mlx, window->win, draw_position, i * (window->height / window->row_count),window->grid_color);
			draw_position++;
		}
		i++;
	}
	i = 1;
	while (i< window->column_count)
	{
		draw_position = 0;
		while (draw_position <= window->width){
			mlx_pixel_put(window->mlx, window->win, i * (window->width/ window->column_count), draw_position,window->grid_color);
			draw_position++;
		}
		i++;
	}
	return (0);
}

void	init_player(t_window *window)
{
	mlx_pixel_put(window->mlx, window->win, window->player.x, window->player.y, window->player.color);
}

void	move_dot_left(t_window *window)
{
	int	old_x = window->player.x;
	int old_y = window->player.y;
	int	black = 0x000000;
	if ((0 < window->player.x && window->player.x <= window->width) &&
		(0 < window->player.y && window->player.x <= window->height))
	{
		//draw old spot with black first
		mlx_pixel_put(window->mlx, window->win, old_x, old_y, black);
		//then draw new spot
		mlx_pixel_put(window->mlx, window->win, --window->player.x, window->player.y, window->player.color);
	}
}

void	move_dot_right(t_window *window)
{
	int	old_x = window->player.x;
	int old_y = window->player.y;
	int	black = 0x000000;
	if ((0 < window->player.x && window->player.x <= window->width) &&
		(0 < window->player.y && window->player.x <= window->height))
	{
		//draw old spot with black first
		mlx_pixel_put(window->mlx, window->win, old_x, old_y, black);
		//then draw new spot
		mlx_pixel_put(window->mlx, window->win, ++window->player.x, window->player.y, window->player.color);
	}
}
void	move_dot_up(t_window *window)
{
	int	old_x = window->player.x;
	int old_y = window->player.y;
	int	black = 0x000000;
	if ((0 < window->player.x && window->player.x <= window->width) &&
		(0 < window->player.y && window->player.x <= window->height))
	{
		//draw old spot with black first
		mlx_pixel_put(window->mlx, window->win, old_x, old_y, black);
		//then draw new spot
		mlx_pixel_put(window->mlx, window->win, window->player.x, --window->player.y, window->player.color);
	}
}
void	move_dot_down(t_window *window)
{
	int	old_x = window->player.x;
	int old_y = window->player.y;
	int	black = 0x000000;
	if ((0 < window->player.x && window->player.x <= window->width) &&
		(0 < window->player.y && window->player.x <= window->height))
	{
		//draw old spot with black first
		mlx_pixel_put(window->mlx, window->win, old_x, old_y, black);
		//then draw new spot
		mlx_pixel_put(window->mlx, window->win, window->player.x, ++window->player.y, window->player.color);
	}
}
int		press_key_for_dot(int key, t_window *window)
{
	if (key == KEY_A)
		move_dot_left(window);
	else if (key == KEY_D)
		move_dot_right(window);
	else if (key == KEY_W)
		move_dot_up(window);
	else if (key == KEY_S)
		move_dot_down(window);
	return (0);
}

int		main(void)
{
	t_window window;
	/////////////////////////////////////
	window.width = 500;
	window.height = 500;
	window.row_count = 10;
	window.column_count = 10;
	window.grid_color = 0x00FFFF;
	/////////////////////////////////////
	window.player.color = 0xFF0000;
	window.player.x = 220;
	window.player.y = 220;
	window.mlx = mlx_init();
	window.win = mlx_new_window(window.mlx, window.width, window.height, "mlx_grid");
	init_player(&window);
	mlx_loop_hook(window.mlx, draw_grid, &window);
	mlx_hook(window.win, 2, 1, press_key_for_dot, &window);
	mlx_loop(window.mlx);
}
```

ì ì´ì œ ì´ ê³¼ì •ë“¤ì„ ëª¨ë‘ í•´ê²° í–ˆìœ¼ë‹ˆ ë™ì˜ìƒì— ë‚˜ì˜¨ ê²ƒì²˜ëŸ¼ 3ì°¨ì›ì˜ í™”ë©´ì— ë¿Œë ¤ì£¼ê¸°ë§Œ í•˜ë©´ ë˜ëŠ”ë°... ê·¸ ì „ì— ì™œ ë‚´ê°€ ì‘ì„±í•œ ì„ ë“¤ì´ ì™œ ê³„ì† ì´ìƒí•œ ì§€ì ì—ì„œ ë©ˆì¶”ì§€??? ë¬´ìŠ¨ ì•Œê³ ë¦¬ì¦˜ì´ ì˜ëª»ë¬ë‚˜?? ì‹¶ì–´ í•œë‹¬ë™ì•ˆ ì‚½ì§ˆì˜ ì‚½ì§ˆì„ ê±°ë“­ í•˜ì˜€ëŠ”ë°...

```c
ì›ë˜ ê³„íš
(ìœ„ì˜ ì½”ë“œë“¤ì„ ë°”íƒ•ìœ¼ë¡œ)
1. ê²©ì ì•ˆì— í°ìƒ‰ ë²½ì´ ë  ê³µê°„ì„ ì¹ í•´ì„œ ì§€ë‚˜ê°€ì§€ ëª»í•  'ë²½'ì„ ë§Œë“¤ì–´ë³¸ë‹¤.
2. í”Œë ˆì´ì–´ê°€ ì ìœ¼ë¡œë§Œ ë‚˜ì™€ ìˆë‹¤ë©´, ë°©í–¥ì„±ì„ í™•ì¸ í•˜ê¸° ìœ„í•´ ì„ ì„ ê·¸ì–´ì„œ
2-1. ì¢Œ,ìš° í™”ì‚´í‘œë¡œ íšŒì „ í•˜ëŠ”ê²ƒì´ í™•ì¸ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„í•´ë³´ê¸°
2-2. ì„ ì„ ì´ë™ ì‹œì¼œë³´ê¸°
3. ì„ ì„ ë²½ì´ ìˆëŠ” ì§€ì ê¹Œì§€ ê·¸ì–´ë³´ê¸°
```

<p align="center">
	<a href="https://www.youtube.com/watch?v=VO2kz8jrn4s"><img src="https://img.youtube.com/vi/VO2kz8jrn4s/0.jpg"></img></a>
	<br>
	<small>í´ë¦­í•´ì„œ ë³´ì„¸ìš”</small>
	<br>
	<small>ì†ŒìŠ¤ì½”ë“œë„ ë‚ ë¼ê°”ê³ , ì•ˆë‚ ì•„ê°”ì–´ë„ ê³µê°œí•˜ê¸° ì°½í”¼í•˜ë‹¤</small>
</p>

'ê³ ì–‘ì´' íŠœí† ë¦¬ì–¼ì—ì„œ ì‚¬ìš©ëœ openGLí•¨ìˆ˜ê°€ ë”°ë¡œ ì—†ê¸°ë„ í–ˆê³ , ì§€ë„ë¥¼ íŒŒì‹±í•˜ê±°ë‚˜, í”Œë ˆì´ì–´ì˜ í˜„ì¬ ì‹œì , ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ” ë°©ë²•ì˜ êµ¬í˜„ì— ì•½ê°„ì˜ ì°¨ì´ê°€ ìˆê³ (ê³ ì–‘ì´ëŠ” ì‚¼ê°í•¨ìˆ˜ë¡œë§Œ êµ¬í˜„, ë¡œë°ë¸ŒëŠ” ë²¡í„° ì‚¬ìš©), ì¼ë‹¨ í•œë‹¬ë™ì•ˆ cub3dì˜ ì§„ì „ì´ ì—†ì–´ ê²°êµ­ 'ë¡œë°ë¸Œ' ë¥¼ ë”°ë¼ ê°€ê¸°ë¡œ ê²°ì • í•˜ì˜€ë‹¤.

ê·¸ë˜ë„ ì‹¤íŒ¨ì˜ ê³¼ì •ì—ì„œ  'ë¡œë°ë¸Œ' ë¥¼ ì´í•´/êµ¬í˜„ í•˜ëŠ”ë° ë§ì€ ë„ì›€ì´ ë˜ì—ˆëŠ”ë°, ê°„ëµíˆ ìš”ì•½í•˜ìë©´:

- 'ë‚˜'ì˜ ìœ„ì¹˜ì™€ 'ë‚´ê°€ ë³´ê³ ì‹¶ì€ ìœ„ì¹˜'ë¥¼ ê³„ì‚° í•˜ëŠ”ë²•
- ì‚¼ê°í•¨ìˆ˜ë¥¼ ì´ìš©í•œ ì‹œì ì˜ íšŒì „
- minilibxì—ëŠ” ì •ë§ ì•„ë¬´ê²ƒë„ ì—†ë‹¤(...)
- ì„ ê¸‹ê¸° ì•Œê³ ë¦¬ì¦˜
    - DDA
    - ë¸Œë ˆì  í•¨ ì•Œê³ ë¦¬ì¦˜

ì •ë„ë¡œ, ë ˆì´ìºìŠ¤íŒ…ì´ êµ¬í˜„ë˜ëŠ”ë° í•µì‹¬ì´ ë˜ëŠ” ê°œë…ì„ ë¹„êµì  ì‰½ê²Œ ì´í•´ í•  ìˆ˜ ìˆì—ˆë‹¤.

ê·¸ëŸ°ë°, DDAì•Œê³ ë¦¬ì¦˜ê³¼ ë¸Œë ˆì  í•¨ ì•Œê³ ë¦¬ì¦˜ì€ ë„ëŒ€ì²´ ë¬´ì—‡ì¸ê°€?

DDA ì•Œê³ ë¦¬ì¦˜ê³¼ ë¸Œë ˆì  í•¨ ì•Œê³ ë¦¬ì¦˜

- DDA ì•Œê³ ë¦¬ì¦˜
    - [https://sugame.tistory.com/200](https://sugame.tistory.com/200)
- ë¸Œë ˆì  í•¨ ì•Œê³ ë¦¬ì¦˜
    - [https://en.wikipedia.org/wiki/Bresenham's_line_algorithm](https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm)
    - [https://playground10.tistory.com/62](https://playground10.tistory.com/62)

ë”°ë¡œ ì¤€ë¹„ í•˜ë ¤ê³  í–ˆëŠ”ë° ì •ë¦¬ê°€ ì˜ ë˜ì–´ìˆì–´ì„œ í•´ë‹¹ ë§í¬ë“¤ì„ ì°¸ì¡° í•˜ë©´ ë„ì›€ì´ ë ê²ƒ ê°™ë‹¤. ê·¸ë˜ë„ ê°„ë‹¨í•˜ê²Œ ìš”ì•½ í•´ë³´ë©´, (x0, y0) â†’ (x1, y1)ê¹Œì§€ ìœ„ì¹˜ì— ì„ ì„ ê·¸ì„ ë•Œ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì ì„ ì°ì„ ê²ƒì¸ê°€? ì— ëŒ€í•˜ì—¬ ê³ ë¯¼í•˜ê³  ê¸€ì„ ì½ì–´ë³´ë©´ ë„ì›€ì´ ë ê²ƒ ê°™ë‹¤. í˜¹ì‹œ ì˜ì–´ê°€ í¸í•˜ë©´...

- [https://www.youtube.com/watch?v=W5P8GlaEOSI](https://www.youtube.com/watch?v=W5P8GlaEOSI)
- [https://www.youtube.com/watch?v=RGB-wlatStc](https://www.youtube.com/watch?v=RGB-wlatStc)

ìœ„ ë‘ ë™ì˜ìƒì´ í° ë„ì›€ì´ ë˜ì§€ ì•Šì„ê¹Œ í•œë‹¤. (ì«„ì§€ ë§ì. ì‰½ë‹¤.)

## ğŸ‘‰ <a href="https://github.com/sungyongcho/ii2r/blob/master/md/4.md"> #4 ë³´ëŸ¬ê°€ê¸°</a>
